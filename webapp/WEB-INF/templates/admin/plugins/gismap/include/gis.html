<script>

var idMap${entry.idEntry} = '${entry.idEntry}_map';
var globalParameters${entry.idEntry} = [];
var parameters${entry.idEntry} = [];
var fieldParameters${entry.idEntry} = [];
ol.proj.setProj4(proj4);

<#list map_parameter.parameters?keys as key>
	<#assign strKey = "'" + key + "'">
	<#assign strVal = map_parameter.parameters[key] >
	parameters${entry.idEntry}.push(parameters${entry.idEntry}[${strKey}] = ${strVal});
</#list>

<#if fieldParam?? >
<#list fieldParam?keys as key>
	<#assign strKey = "'" + key + "'" >
	<#assign strVal = "'" + fieldParam[key] + "'" >
	<#if strKey == "'UrlGeoJSON1'">
		fieldParameters${entry.idEntry}.push(fieldParameters${entry.idEntry}[${strKey}] = ['Test',${strVal}]);
	<#else>
		fieldParameters${entry.idEntry}.push(fieldParameters${entry.idEntry}[${strKey}] = ${strVal});
	</#if>
	
</#list>
<#else>
	fieldParameters${entry.idEntry}.push(fieldParameters${entry.idEntry}['TypeEdit']='');
	fieldParameters${entry.idEntry}.push(fieldParameters${entry.idEntry}['GeomGeoJson']='GeomGeoJson');
	fieldParameters${entry.idEntry}.push(fieldParameters${entry.idEntry}['GeomCentroidXStockage']='GeomCentroidXStockage');
	fieldParameters${entry.idEntry}.push(fieldParameters${entry.idEntry}['GeomCentroidYStockage']='GeomCentroidYStockage');
	fieldParameters${entry.idEntry}.push(fieldParameters${entry.idEntry}['GeomCentroidXGeocodage']='GeomCentroidXGeocodage');
	fieldParameters${entry.idEntry}.push(fieldParameters${entry.idEntry}['GeomCentroidYGeocodage']='GeomCentroidYGeocodage');
	fieldParameters${entry.idEntry}.push(fieldParameters${entry.idEntry}['GeomState']='GeomState');
	fieldParameters${entry.idEntry}.push(fieldParameters${entry.idEntry}['UrlGeoJSON1']=['Test','http://localhost:8081/myapp/myresource']);
</#if>

var GisMapDisplay${entry.idEntry} = new GisMap(idMap${entry.idEntry});
GisMapDisplay${entry.idEntry}.initGisMap(globalParameters${entry.idEntry}, parameters${entry.idEntry}, fieldParameters${entry.idEntry});

</script>