<div class="row" style="margin: 5px;">
<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-bottom: 5px;">
	<input id="address" name="address" class="form-control" value="Entrer votre adresse " onclick="this.value='';"/>
	<input type="hidden" id="address_x" value="x" />
	<input type="hidden" id="address_y" value="y" />
	<script src="js/autocomplete/external/jquery/jquery.js"></script>
	<script src="js/autocomplete/jquery-ui.js"></script>
	<script>
	$('#address').autocomplete({
		source : function(request, reponse){ // les deux arguments représentent les données nécessaires au plugin
		$.ajax({
			url : "${add_url}",
		    dataType: "jsonp",
		    data: {
		    	clientId : "${add_clientId}",
				nbResults : ${add_nbResults}, 
				query : request.term
		    },
		    success : function(data){
                reponse($.map(getResult(data.result), function(objet){
                	return objet;
                    
                }));
            }
        	});
    	},
    	select : function(event, ui){
    		$('#address_x').val(ui.item.x);
    		$('#address_y').val(ui.item.y);
        }
	}).focus();
	function getResult(result) 
	{
		var resultArray = [];
		var index;
		for	(index = 0; index < result.length; index++) 
		{
			var object = new Object();
			object.value = result[index].libelleTypo;
			object.label = result[index].libelleTypo;
			object.id = result[index].id;
			object.x = result[index].x;
			object.y = result[index].y;
			object.type = result[index].type;
			resultArray.push(object);
		}
		return resultArray;	
	};
    	
</script>
</div>
<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	<#include "include/script.html">

	<#include "include/card_frame.html">
	
	<#include "include/gis.html">
</div>
</div>

