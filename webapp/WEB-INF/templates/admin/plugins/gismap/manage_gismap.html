<div class="row">
<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
	<span>Entrer une adresse : </span><br>
	<input id="address" name="address" size="40%"/>
	<input type="hidden" id="address_x" value="x" />
	<input type="hidden" id="address_y" value="y" />
	<script src="js/autocomplete/external/jquery/jquery.js"></script>
	<script src="js/autocomplete/jquery-ui.js"></script>
	<script>
	$('#address').autocomplete({
		source : function(request, reponse){ // les deux arguments représentent les données nécessaires au plugin
		$.ajax({
			url : "https://p89-ws.apps.paris.fr/SuggestPOI/rest/services/SuggestPOI.jsp",
		    dataType: "jsonp",
		    data: {
		    	clientId : "gismap",
				nbResults : 5, 
				query : request.term
		    },
		    success : function(data){
                reponse($.map(getResult(data.result), function(objet){
                	return objet;
                    
                }));
            }
        	});
    	},
    	select : function(event, ui){
    		$('#address_x').val(ui.item.x);
    		$('#address_y').val(ui.item.y);
        }
	}).focus();
	function getResult(result) {
		var resultArray = [];
		var index;
		for	(index = 0; index < result.length; index++) {
			var object = new Object();
			object.value = result[index].libelleTypo;
			object.label = result[index].libelleTypo;
			object.x = result[index].x;
			object.y = result[index].y;
			resultArray.push(object);
		}
		return resultArray;	
    };
    	
</script>
</div>
<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">
	<#include "script.html">

	<#include "card_frame.html">
	
	<#include "gis.html">
</div>
</div>

